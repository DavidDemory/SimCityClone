<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/main.css">
    <title>Vite App</title>
</head>
<body>
<div id="root-window">
    <div id="render-target">
        <div id="ui-toolbar">
            <button id="button-bulldoze" class="ui-button selected" onclick="setActiveTool(event, 'bulldoze')">
                BULLDOZE
            </button>
            <button id="button-residential" class="ui-button" onclick="setActiveTool(event, 'residential')">
                RESIDENTIAL
            </button>
            <button id="button-commercial" class="ui-button" onclick="setActiveTool(event, 'commercial')">COMMERCIAL
            </button>
            <button id="button-industrial" class="ui-button" onclick="setActiveTool(event, 'industrial')">INDUSTRIAL
            </button>
            <button id="button-road" class="ui-button" onclick="setActiveTool(event, 'road')">ROAD</button>
        </div>
    </div>
</div>

<script type="module">
  import { createGame } from './src/game.js';

  let selectedControl = document.getElementById('button-bulldoze');

  window.onload = () => {
    window.game = createGame();
  };

  window.setActiveTool = (event, toolId) => {
    if (selectedControl) {
      selectedControl.classList.remove('selected');
    }
    selectedControl = event.target;
    selectedControl.classList.add('selected');

    window.game.setActiveToolId(toolId);
  };
</script>
</body>
</html>
